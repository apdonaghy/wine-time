(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],f=0,d=[];f<o.length;f++)r=o[f],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},n={app:0},a=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("85ec"),n=i.n(s);n.a},"3b73":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"navStyle"},[s("nav",{staticClass:"flex-containerNav"},[s("h1",{staticClass:"ninety"},[s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"logo",attrs:{src:i("5a09")}})])],1),s("Menu",{directives:[{name:"show",rawName:"v-show",value:t.mobile,expression:"mobile"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.desktop,expression:"desktop"}],staticClass:"ten about"},[s("router-link",{attrs:{to:"/Saved"}},[t._v("Wine Collection")]),s("span",{staticClass:"separate"},[t._v("|")]),s("router-link",{attrs:{to:"/About"}},[t._v("About")])],1)],1)]),s("router-view",{attrs:{results:t.results,favorites:t.favorites,spin:t.spin,errors:t.errors},on:{apiCall:t.apiCall,saveWine:t.saveWine,removeWine:t.removeWine}})],1)},a=[],r=(i("c975"),i("a434"),i("b85c")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"overlay",attrs:{id:"myNav"},on:{click:t.closeNav}},[i("span",{staticClass:"closebtn",on:{click:t.closeNav}},[t._v("×")]),i("div",{staticClass:"overlay-content",on:{click:t.closeNav}},[i("router-link",{attrs:{to:"/"},on:{click:t.closeNav}},[t._v("Home")]),i("router-link",{attrs:{to:"/Saved"},on:{click:t.closeNav}},[t._v("Wine Collection")]),i("router-link",{attrs:{to:"/About"},on:{click:t.closeNav}},[t._v("About")])],1)]),i("span",{staticClass:"burger",on:{click:t.openNav}},[t._v("☰")])])},c=[],l={data:function(){return{}},methods:{openNav:function(){document.getElementById("myNav").style.height="100%"},closeNav:function(){document.getElementById("myNav").style.height="0%"}}},u=l,f=(i("5f8c"),i("2877")),d=Object(f["a"])(u,o,c,!1,null,"a9d15df4",null),h=d.exports,v=i("bc3a"),p=i.n(v),m={name:"App",components:{Menu:h},data:function(){return{mobile:!1,desktop:!1,windowWidth:0,results:null,spin:!1,errors:[],favorites:[],inFaves:!1}},created:function(){window.addEventListener("resize",this.resize),this.resize()},destroyed:function(){window.removeEventListener("resize",this.resize)},mounted:function(){this.$ls.get("savedWines")&&(this.favorites=this.$ls.get("savedWines")),this.apiCall({wine:"Merlot"})},methods:{resize:function(){this.windowWidth=window.innerWidth,this.windowWidth>=900?(this.desktop=!0,this.mobile=!1):(this.desktop=!1,this.mobile=!0)},apiCall:function(t){var e=this;this.results=null;var i="wines_"+t.wine,s=18e5;this.$ls.get(i)?(console.log("Cached query detected."),this.results=this.$ls.get(i),this.spin=!1):(console.log("No cache available. Making API request."),p.a.get("https://api.spoonacular.com/food/wine/recommendation",{params:{wine:t.wine,number:100,minRating:.8,apiKey:"2c010ee91b164e24a2c25a653e110615"}}).then((function(t){console.log("New query has been cached as: "+i),e.results=e.processData(t.data.recommendedWines),e.$ls.set(i,e.results,s),e.spin=!1})).catch((function(t){e.spin=!1,e.errors.push(t)})),this.spin=!0)},processData:function(t){for(var e in t)t[e].price=parseFloat(t[e].price.substring(1));return t},saveWine:function(t){var e,i=Object(r["a"])(this.favorites);try{for(i.s();!(e=i.n()).done;){var s=e.value;t.id===s.id&&(this.inFaves=!0)}}catch(n){i.e(n)}finally{i.f()}!1===this.inFaves&&this.favorites.push(t),this.$ls.set("savedWines",this.favorites),this.inFaves=!1},removeWine:function(t){var e=this.favorites.indexOf(t);this.favorites.splice(e,1),this.$ls.set("savedWines",this.favorites)}}},g=m,w=(i("034f"),Object(f["a"])(g,n,a,!1,null,null,null)),_=w.exports,b=i("8c4f"),k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"Home"}},[t.addedNotice?i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"higher"},[i("span",{staticClass:"higherText"},[t._v("Added to collection")])])]):t._e(),i("div",{staticClass:"gray"},[i("div",{staticClass:"lower flexMain"},[i("section",{staticClass:"filter"},[i("div",{staticClass:"flex filterHeaders"},[i("h3",{staticClass:"filterMainTitle"},[t._v("Filters")]),i("h5",[t._v(" Results "),t.results&&t.results.length&&!t.spin>0?i("span",[t._v(t._s(t.filteredWines.length))]):t._e()])]),i("Accordion",{ref:"red",staticClass:"accMargin",attrs:{wineNames:t.reds},on:{checkedData:t.onChildClick}}),i("Accordion",{ref:"white",staticClass:"accMargin",attrs:{wineNames:t.white},on:{checkedData:t.onChildClick}}),i("Accordion",{ref:"sparkling",staticClass:"accMargin",attrs:{wineNames:t.sparkling},on:{checkedData:t.onChildClick}}),i("div",{staticClass:"control"},[i("h4",{staticClass:"priceTitle"},[i("span",[t._v("Max Price")]),t._v(" $"+t._s(t.maxPrice))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.maxPrice,expression:"maxPrice"}],attrs:{type:"range",min:"0",max:"125"},domProps:{value:t.maxPrice},on:{__r:function(e){t.maxPrice=e.target.value}}})]),i("div",{staticClass:"btnContainer"},[i("button",{staticClass:"filter-btn",class:{filterBtnPressed:t.filters.filter1},on:{click:t.high,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.high(e)}}},[t._v("$ high to low ")]),i("button",{staticClass:"filter-btn",class:{filterBtnPressed:t.filters.filter2},on:{click:t.low,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.low(e)}}},[t._v(" $ low to high ")]),i("button",{staticClass:"filter-btn",class:{filterBtnPressed:t.filters.filter3},on:{click:t.highestRatings,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.highestRatings(e)}}},[t._v(" Highest Rated ")]),i("button",{staticClass:"filter-btn",class:{filterBtnPressed:t.filters.filter4},on:{click:t.mostRatings,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.mostRatings(e)}}},[t._v(" Rating Count ")])])],1),i("main",{staticClass:"wines-container"},[i("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.spin,expression:"spin"}],staticClass:"fa-spin spinner",attrs:{icon:"circle-notch"}}),t.results&&t.results.length&&!t.spin>0?i("ul",t._l(t.filteredWines,(function(e){return i("li",{key:e.id,staticClass:"wine-container container"},[i("div",{staticClass:"flex-container"},[i("div",{staticClass:"twentyFive"},[i("img",{staticClass:"img",attrs:{src:e.imageUrl,alt:e.title}})]),i("div",{staticClass:"seventyFive"},[i("h2",[t._v(" "+t._s(e.title)+" ")]),i("span",{staticClass:"price flex"},[t._v(" $"+t._s(e.price)+" | "),i("a",{staticClass:"purchase",attrs:{target:"_blank",href:e.link}},[t._v("PURCHASE")]),t._v(" | "),i("div",{staticClass:"inline",on:{click:t.showAddNotice}},[i("span",{staticClass:"collection_btn",on:{click:function(i){return t.$emit("saveWine",e)}}},[t._v("Add to collection +")])])]),i("div",{staticClass:"flex"},[i("span",{staticClass:"rating"},[t._v(" Rating ")]),i("span",{staticClass:"inside-rating"},[t._v(t._s(Math.floor(100*e.averageRating))+"%")])]),i("span",{staticClass:"ratings"},[t._v(" Ratings "),i("strong",[t._v("x "+t._s(Math.floor(e.ratingCount)))])]),i("p",[t._v(t._s(e.description))])])])])})),0):t.results&&0==t.results.length?i("div",{staticClass:"no-results"},[i("h2",[t._v("No Wines Found")]),i("p",[t._v("Please adjust your search")])]):t._e(),t.errors&&t.errors.length>0?i("ul",{staticClass:"errors"},t._l(t.errors,(function(e){return i("li",{key:e},[t._v(t._s(e.message))])})),0):t._e()],1)])])],1)},C=[],y=(i("4de4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{ref:t.wineNames.wineTitle},[s("div",{staticClass:"container"},[s("div",{staticClass:"flexSection",on:{click:t.toggle}},[s("h3",{staticClass:"formTitles"},[t._v(t._s(t.wineNames.wineTitle))]),s("img",{ref:"arrow",staticClass:"toggle arrow2",attrs:{src:i("8a7d")}})]),s("div",{ref:"open",staticClass:"open",style:{maxHeight:t.computedHeight}},t._l(t.wineNames.wineList,(function(e,i){return s("p",{key:i},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked.inputVal,expression:"checked.inputVal"}],attrs:{type:"radio",id:e,name:"radio-group"},domProps:{value:e,checked:t._q(t.checked.inputVal,e)},on:{click:t.initiate,change:function(i){return t.$set(t.checked,"inputVal",e)}}}),s("label",{attrs:{for:e}},[t._v(t._s(e))])])})),0)])])])}),x=[],N={name:"Accordion",data:function(){return{active:!1,maxHeight:"0px",checked:{inputVal:null,currentTitle:this.wineNames.wineTitle}}},props:["wineNames"],computed:{computedHeight:function(){return this.maxHeight}},methods:{toggle:function(){!1===this.active?(this.maxHeight=this.$refs.open.scrollHeight+"px",this.$refs.arrow.style.transform="rotate(180deg)",this.active=!0):(this.maxHeight="0px",this.active=!1,this.$refs.arrow.style.transform="rotate(0deg)")},clear:function(){this.$refs[this.wineNames.wineTitle].reset()},initiate:function(){var t=this;setTimeout((function(){return t.$emit("checkedData",t.checked)}),10)}}},$=N,W=(i("78e2"),Object(f["a"])($,y,x,!1,null,"913c4cd4",null)),P=W.exports,T={name:"Home",props:["results","spin","favorites","errors"],components:{Accordion:P},data:function(){return{addedNotice:!1,wine:"",maxPrice:25,currentList:null,filters:{filter1:!1,filter2:!1,filter3:!1,filter4:!1},spinning:!0,reds:{wineTitle:"Red",wineList:["Merlot","Cabernet Sauvignon","Syrah","Pinot Noir","Malbec","Zinfandel"]},white:{wineTitle:"White",wineList:["Pinot Grigio","Chardonnay","Sauvignon blanc"]},sparkling:{wineTitle:"Sparkling",wineList:["Champagne","Cava","Prosecco","Sparkling Wine"]}}},computed:{filteredWines:function(){var t=this;return this.results.filter((function(e){return e.price<t.maxPrice}))}},methods:{resetForm:function(t){console.log(t.target)},showAddNotice:function(){var t=this;this.addedNotice=!0,setTimeout((function(){return t.addedNotice=!1}),500)},onChildClick:function(t){var e;for(var i in this.wine=t.inputVal,this.currentList=t.currentTitle,"Red"===this.currentList?(this.$refs.white.clear(),this.$refs.sparkling.clear()):"White"===this.currentList?(this.$refs.red.clear(),this.$refs.sparkling.clear()):"Sparkling"===this.currentList&&(this.$refs.white.clear(),this.$refs.red.clear()),this.$emit("apiCall",{wine:this.wine,spinning:this.spinning}),this.filters)!0===this.filters[i]&&(e=i);console.log(e)},filterBtn:function(t){for(var e in this.filters)this.filters[e]=e===t;console.log(this.filters)},high:function(){return this.filterBtn("filter1"),this.results.sort((function(t,e){return e.price-t.price}))},low:function(){return this.filterBtn("filter2"),this.results.sort((function(t,e){return t.price-e.price}))},highestRatings:function(){return this.filterBtn("filter3"),this.results.sort((function(t,e){return e.averageRating-t.averageRating}))},mostRatings:function(){return this.filterBtn("filter4"),this.results.sort((function(t,e){return e.ratingCount-t.ratingCount}))},processData:function(t){for(var e in t)t[e].price=parseFloat(t[e].price.substring(1));return t}}},A=T,O=(i("750e"),Object(f["a"])(A,k,C,!1,null,"1075ba82",null)),j=O.exports,S=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},M=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"About"}},[i("div",{staticClass:"aboutText"},[i("h2",[t._v("About")]),i("p",[t._v(" This wine recommendation app was built with "),i("a",{attrs:{target:"_blank",href:"https://vuejs.org/"}},[t._v("Vue.js")]),t._v(" for the final project of spring quarter 2020 in the "),i("a",{attrs:{target:"_blank",href:"https://www.seattleu.edu/ncs/web-development/"}},[t._v("WATS program")]),t._v(" at Seattle University. The web app allows for two user inputs – the type of wine and a max-price point. After clicking the search button, the user can filter their search results by price, rating or review count. In the search results each recommended wine includes: an image (if available), a title, a price, a link to purchase, a rating, the amount of ratings and a description. Wine Time is made possible through requests from the "),i("a",{attrs:{target:"_blank",href:"https://spoonacular.com/food-api"}},[t._v("spoonacular API")]),t._v(". Enjoy! ")])])])}],R=(i("bced"),{}),H=Object(f["a"])(R,S,M,!1,null,"64a256cc",null),E=H.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"saved",attrs:{id:"saved"}},[i("div",{staticClass:"container wine-list"},[i("h2",[t._v("Wine Collection")]),0===t.favorites.length?i("span",{staticClass:"wineCollectionNote"},[t._v("Use the "),i("strong",[t._v("add to collection")]),t._v(" button next to each wine to build a list of your favorite wines.")]):t._e(),t.favorites.length>0?i("ol",t._l(t.favorites,(function(e,s){return i("div",{key:s,staticClass:"space"},[i("li",[i("a",{attrs:{href:e.link,target:"_blank"}},[t._v(t._s(e.title))])]),i("font-awesome-icon",{staticClass:"exit",attrs:{icon:"times"},on:{click:function(i){return t.$emit("removeWine",e)}}})],1)})),0):t._e()])])},B=[],F={props:["favorites"],data:function(){return{close:!1}}},D=F,V=(i("cf07"),Object(f["a"])(D,L,B,!1,null,"8b90409a",null)),q=V.exports;s["a"].use(b["a"]);var z=[{path:"/",name:"Home",component:j},{path:"/About",name:"About",component:E},{path:"/Saved",name:"Saved",component:q}],I=new b["a"]({routes:z}),U=I,J=i("0284"),G=i.n(J),K=i("c16e"),Z=i.n(K),Q=i("ecee"),X=i("c074"),Y=i("ad3d"),tt={namespace:"wineList__"};s["a"].use(Z.a,tt),Q["c"].add(X["b"],X["a"],X["c"]),s["a"].component("font-awesome-icon",Y["a"]),s["a"].config.productionTip=!1,s["a"].use(G.a,{id:"UA-167943063-1",router:U}),new s["a"]({router:U,render:function(t){return t(_)}}).$mount("#app")},"5a09":function(t,e,i){t.exports=i.p+"img/wineTime.5da85c22.svg"},"5f8c":function(t,e,i){"use strict";var s=i("bcd8"),n=i.n(s);n.a},"67a8":function(t,e,i){},"750e":function(t,e,i){"use strict";var s=i("ffd3"),n=i.n(s);n.a},"78e2":function(t,e,i){"use strict";var s=i("3b73"),n=i.n(s);n.a},"85ec":function(t,e,i){},"8a7d":function(t,e,i){t.exports=i.p+"img/arrow2.8f757834.svg"},bcd8:function(t,e,i){},bced:function(t,e,i){"use strict";var s=i("67a8"),n=i.n(s);n.a},cf07:function(t,e,i){"use strict";var s=i("ea7a"),n=i.n(s);n.a},ea7a:function(t,e,i){},ffd3:function(t,e,i){}});
//# sourceMappingURL=app.1195820e.js.map